{"ast":null,"code":"var _jsxFileName = \"/Users/vaibhav/Desktop/Office/E-commerce/src/pages/confirmPassword.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Button from \"../components/button\";\nimport Logo from \"../assets/images/logo2.png\";\nimport login from \"../assets/images/login.png\";\nimport { useHistory, useLocation } from \"react-router\";\nimport * as appUtils from \"../helpers/appUtils\";\nimport * as API from \"../helpers/api\";\nimport { Link } from \"react-router-dom\";\nimport Input from \"../components/input\";\nimport Lottie from \"react-lottie\";\nimport animationData from \"../components/lottie/success.json\";\nimport { ArrowDownward, RemoveRedEye, VisibilityOff } from \"@material-ui/icons\"; //REDUX\n\nimport { useDispatch } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialFormData = {\n  email: \"\",\n  password: \"\",\n  confirmPassword: \"\"\n};\nexport default function ConfirmPassword() {\n  _s();\n\n  const defaultOptions = {\n    loop: false,\n    autoplay: true,\n    animationData: animationData,\n    rendererSettings: {\n      preserveAspectRatio: \"xMidYMid slice\"\n    }\n  };\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const location = useLocation();\n  const [passwordView, setPasswordView] = useState(false); //LOADER\n\n  const [loading, setLoading] = useState(false);\n  const [successMsg, setSuccessMsg] = useState(true); //FORM-DATA\n\n  const [formData, setFormData] = useState(initialFormData); //ERROR-MSGS\n\n  const [errorConfirmPassword, setErrorConfirmPassword] = useState(\"\");\n  const [errorPassword, setErrorPassword] = useState(\"\"); //HANDLE-CHANGE\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n\n    switch (name) {\n      case \"password\":\n        setErrorPassword(\"\");\n        break;\n\n      default:\n    }\n\n    setFormData({ ...formData,\n      [name]: value\n    });\n  }; //HANDLE-SUBMIT\n\n\n  const handleSubmit = async () => {\n    setLoading(true);\n    let flag = validate();\n\n    if (!flag) {\n      setLoading(false);\n      return;\n    }\n\n    try {\n      const requestObj = {\n        emailId: location.state.email,\n        password: formData.password\n      };\n      const response = await API.customer_confirm_forgot_password(requestObj);\n\n      if (response.status === 200) {\n        dispatch({\n          type: \"LOGOUT\"\n        });\n        history.push({\n          pathname: \"/login\"\n        });\n      }\n\n      if (response.status === 401) {\n        if (response.data.isActive === 0) {\n          history.push({\n            pathname: \"/email_verification\",\n            state: {\n              email: formData.email\n            }\n          });\n        }\n      }\n    } catch (e) {}\n  }; //VALIDATE-INPUT\n\n\n  const validate = () => {\n    const {\n      confirmPassword,\n      password\n    } = formData;\n    let flag = true;\n    let validatePassword = appUtils.validatePass(password);\n\n    if (validatePassword === 1) {\n      setErrorPassword({\n        field: \"password\",\n        message: \"\"\n      });\n\n      if (confirmPassword) {\n        if (confirmPassword === password) {\n          setErrorConfirmPassword({\n            field: \"confirmPassword\",\n            message: \"\"\n          });\n        } else {\n          setErrorConfirmPassword({\n            field: \"confirmPassword\",\n            message: \"That doesn't look like the same.\"\n          });\n          flag = false;\n        }\n      } else if (confirmPassword.length === 0) {\n        setErrorConfirmPassword({\n          field: \"confirmPassword\",\n          message: \"You missed a bit! Don't fogot to add your confirm password.\"\n        });\n        flag = false;\n      }\n    }\n\n    if (!(validatePassword === 1)) {\n      let msg = \"\";\n\n      if (validatePassword === 0) {\n        msg = \"You missed a bit! Don't forget to add your password.\";\n      } else {\n        msg = \"That doesn't look like an email address.\";\n      }\n\n      setErrorPassword({\n        field: \"password\",\n        message: msg\n      });\n      flag = false;\n    }\n\n    return flag;\n  };\n\n  const toggleView = () => {\n    setPasswordView(!passwordView);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex flex-col justify-center sm:py-12 bg-cover bg-center bg-no-repeat\",\n    style: {\n      backgroundImage: `url(${login})`\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" absolute text-7xl font-bold capitalize text-white top-24 w-2/5 left-24\",\n      children: \"Forgot your password? Let's get you a new one\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" mr-24 xs:p-0 ml-auto md:w-full md:max-w-md\",\n      children: successMsg ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-10 py-48 shadow-lg w-full rounded-2xl relative\" // style={{ height: \"calc(100vh - 200px)\" }}\n        ,\n        children: [/*#__PURE__*/_jsxDEV(Lottie, {\n          options: defaultOptions,\n          height: 300,\n          width: 300\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xl\",\n          children: \"Your password has been changed successfully. Use you new password to login.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-12 shadow-lg w-full rounded-2xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center py-5\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: Logo,\n            alt: \"logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"font-bold text-center text-2xl mb-5\",\n          children: \"Give us your email and we will send you a verification code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-5 py-7\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 relative\",\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              placeholder: \"New Password\",\n              name: \"password\",\n              type: passwordView ? \"text\" : \"password\",\n              value: formData.email,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"right-3 absolute top-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: toggleView,\n                children: passwordView ? /*#__PURE__*/_jsxDEV(RemoveRedEye, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 37\n                }, this) : /*#__PURE__*/_jsxDEV(VisibilityOff, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 56\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, this), errorPassword.field === \"password\" && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"my-1 text-center text-xs text-left text-red-500\",\n              children: errorPassword.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              type: \"password\",\n              placeholder: \"Confirm Password\",\n              name: \"confirmPassword\",\n              value: formData.email,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this), errorConfirmPassword.field === \"confirmPassword\" && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"my-1 text-center text-xs text-left text-red-500\",\n              children: errorConfirmPassword.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            size: \"big\",\n            className: \"w-full relative\",\n            variant: \"primary\",\n            id: \"loginBtn\",\n            onClick: handleSubmit,\n            loading: loading,\n            children: [\"Send me the code\", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"transform -rotate-90 ml-2 loginArrow \",\n              children: /*#__PURE__*/_jsxDEV(ArrowDownward, {\n                className: \"animate-bounce\",\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"py-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-1\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/login\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center sm:text-left whitespace-nowrap\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"transition duration-200 mx-5 px-5 py-4 cursor-pointer font-normal text-sm rounded-lg text-gray-500 hover:bg-gray-200 focus:outline-none focus:bg-gray-300 focus:ring-2 focus:ring-gray-400 focus:ring-opacity-50 ring-inset\",\n                  children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    fill: \"none\",\n                    viewBox: \"0 0 24 24\",\n                    stroke: \"currentColor\",\n                    className: \"w-4 h-4 inline-block align-text-top\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      strokeLinecap: \"round\",\n                      strokeLinejoin: \"round\",\n                      strokeWidth: \"2\",\n                      d: \"M10 19l-7-7m0 0l7-7m-7 7h18\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 244,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"inline-block ml-1\",\n                    children: \"Back to Login\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ConfirmPassword, \"8tDdDn9uLGv9BC9A6vsin6ZuXYE=\", false, function () {\n  return [useDispatch, useHistory, useLocation];\n});\n\n_c = ConfirmPassword;\n\nvar _c;\n\n$RefreshReg$(_c, \"ConfirmPassword\");","map":{"version":3,"sources":["/Users/vaibhav/Desktop/Office/E-commerce/src/pages/confirmPassword.js"],"names":["React","useState","Button","Logo","login","useHistory","useLocation","appUtils","API","Link","Input","Lottie","animationData","ArrowDownward","RemoveRedEye","VisibilityOff","useDispatch","initialFormData","email","password","confirmPassword","ConfirmPassword","defaultOptions","loop","autoplay","rendererSettings","preserveAspectRatio","dispatch","history","location","passwordView","setPasswordView","loading","setLoading","successMsg","setSuccessMsg","formData","setFormData","errorConfirmPassword","setErrorConfirmPassword","errorPassword","setErrorPassword","handleChange","e","name","value","target","handleSubmit","flag","validate","requestObj","emailId","state","response","customer_confirm_forgot_password","status","type","push","pathname","data","isActive","validatePassword","validatePass","field","message","length","msg","toggleView","backgroundImage"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Button from \"../components/button\";\nimport Logo from \"../assets/images/logo2.png\";\nimport login from \"../assets/images/login.png\";\nimport { useHistory, useLocation } from \"react-router\";\nimport * as appUtils from \"../helpers/appUtils\";\nimport * as API from \"../helpers/api\";\nimport { Link } from \"react-router-dom\";\nimport Input from \"../components/input\";\nimport Lottie from \"react-lottie\";\nimport animationData from \"../components/lottie/success.json\";\nimport { ArrowDownward, RemoveRedEye, VisibilityOff } from \"@material-ui/icons\";\n\n//REDUX\nimport { useDispatch } from \"react-redux\";\n\nconst initialFormData = {\n  email: \"\",\n  password: \"\",\n  confirmPassword: \"\",\n};\n\nexport default function ConfirmPassword() {\n  const defaultOptions = {\n    loop: false,\n    autoplay: true,\n    animationData: animationData,\n    rendererSettings: {\n      preserveAspectRatio: \"xMidYMid slice\",\n    },\n  };\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const location = useLocation();\n\n  const [passwordView, setPasswordView] = useState(false);\n\n  //LOADER\n  const [loading, setLoading] = useState(false);\n  const [successMsg, setSuccessMsg] = useState(true);\n\n  //FORM-DATA\n  const [formData, setFormData] = useState(initialFormData);\n\n  //ERROR-MSGS\n  const [errorConfirmPassword, setErrorConfirmPassword] = useState(\"\");\n  const [errorPassword, setErrorPassword] = useState(\"\");\n\n  //HANDLE-CHANGE\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    switch (name) {\n      case \"password\":\n        setErrorPassword(\"\");\n        break;\n      default:\n    }\n    setFormData({ ...formData, [name]: value });\n  };\n\n  //HANDLE-SUBMIT\n  const handleSubmit = async () => {\n    setLoading(true);\n    let flag = validate();\n    if (!flag) {\n      setLoading(false);\n      return;\n    }\n    try {\n      const requestObj = {\n        emailId: location.state.email,\n        password: formData.password,\n      };\n      const response = await API.customer_confirm_forgot_password(requestObj);\n      if (response.status === 200) {\n        dispatch({\n          type: \"LOGOUT\",\n        });\n        history.push({\n          pathname: \"/login\",\n        });\n      }\n\n      if (response.status === 401) {\n        if (response.data.isActive === 0) {\n          history.push({\n            pathname: \"/email_verification\",\n            state: { email: formData.email },\n          });\n        }\n      }\n    } catch (e) {}\n  };\n\n  //VALIDATE-INPUT\n  const validate = () => {\n    const { confirmPassword, password } = formData;\n    let flag = true;\n\n    let validatePassword = appUtils.validatePass(password);\n    if (validatePassword === 1) {\n      setErrorPassword({\n        field: \"password\",\n        message: \"\",\n      });\n      if (confirmPassword) {\n        if (confirmPassword === password) {\n          setErrorConfirmPassword({\n            field: \"confirmPassword\",\n            message: \"\",\n          });\n        } else {\n          setErrorConfirmPassword({\n            field: \"confirmPassword\",\n            message: \"That doesn't look like the same.\",\n          });\n          flag = false;\n        }\n      } else if (confirmPassword.length === 0) {\n        setErrorConfirmPassword({\n          field: \"confirmPassword\",\n          message:\n            \"You missed a bit! Don't fogot to add your confirm password.\",\n        });\n        flag = false;\n      }\n    }\n    if (!(validatePassword === 1)) {\n      let msg = \"\";\n      if (validatePassword === 0) {\n        msg = \"You missed a bit! Don't forget to add your password.\";\n      } else {\n        msg = \"That doesn't look like an email address.\";\n      }\n      setErrorPassword({\n        field: \"password\",\n        message: msg,\n      });\n      flag = false;\n    }\n    return flag;\n  };\n\n  const toggleView = () => {\n    setPasswordView(!passwordView);\n  };\n\n  return (\n    <div\n      className=\"min-h-screen flex flex-col justify-center sm:py-12 bg-cover bg-center bg-no-repeat\"\n      style={{ backgroundImage: `url(${login})` }}\n    >\n      <div className=\" absolute text-7xl font-bold capitalize text-white top-24 w-2/5 left-24\">\n        Forgot your password? Let's get you a new one\n      </div>\n      <div className=\" mr-24 xs:p-0 ml-auto md:w-full md:max-w-md\">\n        {successMsg ? (\n          <div\n            className=\"bg-white p-10 py-48 shadow-lg w-full rounded-2xl relative\"\n            // style={{ height: \"calc(100vh - 200px)\" }}\n          >\n            <Lottie options={defaultOptions} height={300} width={300} />\n            <div className=\"text-xl\">\n              Your password has been changed successfully. Use you new password\n              to login.\n            </div>\n          </div>\n        ) : (\n          <div className=\"bg-white p-12 shadow-lg w-full rounded-2xl\">\n            <div className=\"flex justify-center py-5\">\n              <img src={Logo} alt=\"logo\" />\n            </div>\n            <h1 className=\"font-bold text-center text-2xl mb-5\">\n              Give us your email and we will send you a verification code\n            </h1>\n            <div className=\"px-5 py-7\">\n              <div className=\"mb-4 relative\">\n                <Input\n                  placeholder=\"New Password\"\n                  name=\"password\"\n                  type={passwordView ? \"text\" : \"password\"}\n                  value={formData.email}\n                  onChange={handleChange}\n                />\n                <div className=\"right-3 absolute top-3\">\n                  <div onClick={toggleView}>\n                    {passwordView ? <RemoveRedEye /> : <VisibilityOff />}\n                  </div>\n                </div>\n                {errorPassword.field === \"password\" && (\n                  <p className=\"my-1 text-center text-xs text-left text-red-500\">\n                    {errorPassword.message}\n                  </p>\n                )}\n              </div>\n\n              <div className=\"mb-4\">\n                <Input\n                  type=\"password\"\n                  placeholder=\"Confirm Password\"\n                  name=\"confirmPassword\"\n                  value={formData.email}\n                  onChange={handleChange}\n                />\n\n                {errorConfirmPassword.field === \"confirmPassword\" && (\n                  <p className=\"my-1 text-center text-xs text-left text-red-500\">\n                    {errorConfirmPassword.message}\n                  </p>\n                )}\n              </div>\n\n              <Button\n                size={\"big\"}\n                className=\"w-full relative\"\n                variant={\"primary\"}\n                id=\"loginBtn\"\n                onClick={handleSubmit}\n                loading={loading}\n              >\n                Send me the code\n                <div className=\"transform -rotate-90 ml-2 loginArrow \">\n                  <ArrowDownward\n                    className=\"animate-bounce\"\n                    fontSize={\"small\"}\n                  />\n                </div>\n              </Button>\n            </div>\n\n            <div className=\"py-2\">\n              <div className=\"grid grid-cols-2 gap-1\">\n                <Link to=\"/login\">\n                  <div className=\"text-center sm:text-left whitespace-nowrap\">\n                    <button className=\"transition duration-200 mx-5 px-5 py-4 cursor-pointer font-normal text-sm rounded-lg text-gray-500 hover:bg-gray-200 focus:outline-none focus:bg-gray-300 focus:ring-2 focus:ring-gray-400 focus:ring-opacity-50 ring-inset\">\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        fill=\"none\"\n                        viewBox=\"0 0 24 24\"\n                        stroke=\"currentColor\"\n                        className=\"w-4 h-4 inline-block align-text-top\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          strokeWidth=\"2\"\n                          d=\"M10 19l-7-7m0 0l7-7m-7 7h18\"\n                        />\n                      </svg>\n                      <span className=\"inline-block ml-1\">Back to Login</span>\n                    </button>\n                  </div>\n                </Link>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}